# =============================================================================
# Caddyfile.template â€” OPTIONAL reverse proxy for code-server
#
# By default, code-server listens directly on 0.0.0.0:8080 (no proxy needed).
# Use this only if you want HTTPS with a domain (Let's Encrypt auto-TLS).
#
# Usage:
#   1. Install Caddy: sudo apt install caddy
#   2. Change code-server bind to 127.0.0.1:8443 in config.yaml
#   3. Copy to /etc/caddy/Caddyfile and reload: sudo systemctl reload caddy
# =============================================================================

# === With a domain (Let's Encrypt auto-TLS) ===
# Replace {DOMAIN} with your actual domain.

# code.{DOMAIN} {
#     reverse_proxy 127.0.0.1:8443
#     encode gzip
#
#     header {
#         X-Content-Type-Options nosniff
#         X-Frame-Options DENY
#         Referrer-Policy no-referrer
#         Strict-Transport-Security "max-age=31536000; includeSubDomains"
#     }
#
#     log {
#         output file /var/log/caddy/access.log
#         format json
#     }
# }
